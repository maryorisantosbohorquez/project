<UserControl x:Class="ProjectReport.Views.HomeView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Background="{StaticResource AppBackgroundBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>   <!-- Encabezado Home -->
            <RowDefinition Height="*"/>      <!-- Contenido -->
        </Grid.RowDefinitions>

        <!-- ENCABEZADO -->
        <Border Grid.Row="0"
                Background="{StaticResource WhiteBrush}"
                Padding="8,4"
                BorderBrush="{StaticResource LightGrayBrush}"
                BorderThickness="0,0,0,1">
            <TextBlock Text="Home"
                       FontSize="18"
                       FontWeight="Bold"
                       Foreground="{StaticResource BlackBrush}"/>
        </Border>

        <!-- CONTENIDO PRINCIPAL -->
        <Grid Grid.Row="1" Margin="16">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>   <!-- Card principal -->
                <RowDefinition Height="*"/>      <!-- Lista / cards -->
            </Grid.RowDefinitions>

            <!-- CARD PRINCIPAL TIPO DASHBOARD -->
            <Border Grid.Row="0"
                    Background="{StaticResource WhiteBrush}"
                    BorderBrush="{StaticResource LightGrayBrush}"
                    BorderThickness="1"
                    CornerRadius="6"
                    Padding="16"
                    Margin="0,0,0,12">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>  <!-- Título -->
                        <RowDefinition Height="Auto"/>  <!-- Subtítulo -->
                        <RowDefinition Height="Auto"/>  <!-- KPIs -->
                        <RowDefinition Height="Auto"/>  <!-- Filtros -->
                    </Grid.RowDefinitions>

                    <!-- TÍTULO -->
                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <!-- TÍTULO -->
                    <TextBlock Grid.Column="0"
                            Text="PROJECT REPORT MANAGER"
                            FontSize="22"
                            FontWeight="Bold"
                            Foreground="{StaticResource BlackBrush}"/>

                    <!-- BOTÓN NUEVO POZO -->
                    <Button Grid.Column="1"
                            Content="New Well"
                            Command="{Binding NewWellCommand}"
                            Height="28"
                            Padding="12,2"
                            Margin="8,0,0,0"
                            Background="{StaticResource PrimaryOrangeBrush}"
                            Foreground="White"
                            BorderBrush="{StaticResource PrimaryOrangeBrush}"/>
                    </Grid>


                    <!-- SUBTÍTULO -->
                    <TextBlock Grid.Row="1"
                               Text="Well Selector Dashboard"
                               Margin="0,4,0,12"
                               FontSize="12"
                               Foreground="{StaticResource DarkGrayBrush}"/>

                    <!-- KPIs -->
                    <Border Grid.Row="2"
                            Background="{StaticResource AppBackgroundBrush}"
                            BorderBrush="{StaticResource LightGrayBrush}"
                            BorderThickness="1"
                            CornerRadius="6"
                            Padding="12"
                            Margin="0,0,0,12">
                        <UniformGrid Rows="1" Columns="6">
                            <!-- TOTAL WELLS -->
                            <StackPanel Margin="4" HorizontalAlignment="Center">
                                <TextBlock Text="TOTAL WELLS"
                                           FontSize="11"
                                           Foreground="{StaticResource DarkGrayBrush}"/>
                                <TextBlock Text="{Binding TotalWells}"
                                           FontSize="20"
                                           FontWeight="Bold"
                                           HorizontalAlignment="Center"/>
                            </StackPanel>

                            <!-- DRAFT -->
                            <StackPanel Margin="4" HorizontalAlignment="Center">
                                <TextBlock Text="DRAFT"
                                           FontSize="11"
                                           Foreground="{StaticResource DarkGrayBrush}"/>
                                <TextBlock Text="{Binding DraftWells}"
                                           FontSize="20"
                                           FontWeight="Bold"
                                           Foreground="Orange"
                                           HorizontalAlignment="Center"/>
                            </StackPanel>

                            <!-- IN PROGRESS -->
                            <StackPanel Margin="4" HorizontalAlignment="Center">
                                <TextBlock Text="IN PROGRESS"
                                           FontSize="11"
                                           Foreground="{StaticResource DarkGrayBrush}"/>
                                <TextBlock Text="{Binding InProgressWells}"
                                           FontSize="20"
                                           FontWeight="Bold"
                                           Foreground="DodgerBlue"
                                           HorizontalAlignment="Center"/>
                            </StackPanel>

                            <!-- COMPLETED -->
                            <StackPanel Margin="4" HorizontalAlignment="Center">
                                <TextBlock Text="COMPLETED"
                                           FontSize="11"
                                           Foreground="{StaticResource DarkGrayBrush}"/>
                                <TextBlock Text="{Binding CompletedWells}"
                                           FontSize="20"
                                           FontWeight="Bold"
                                           Foreground="Green"
                                           HorizontalAlignment="Center"/>
                            </StackPanel>

                            <!-- ARCHIVED -->
                            <StackPanel Margin="4" HorizontalAlignment="Center">
                                <TextBlock Text="ARCHIVED"
                                           FontSize="11"
                                           Foreground="{StaticResource DarkGrayBrush}"/>
                                <TextBlock Text="{Binding ArchivedWells}"
                                           FontSize="20"
                                           FontWeight="Bold"
                                           Foreground="Gray"
                                           HorizontalAlignment="Center"/>
                            </StackPanel>

                            <!-- OPERATORS -->
                            <StackPanel Margin="4" HorizontalAlignment="Center">
                                <TextBlock Text="OPERATORS"
                                           FontSize="11"
                                           Foreground="{StaticResource DarkGrayBrush}"/>
                                <TextBlock Text="{Binding ActiveOperators}"
                                           FontSize="20"
                                           FontWeight="Bold"
                                           Foreground="Purple"
                                           HorizontalAlignment="Center"/>
                            </StackPanel>
                        </UniformGrid>
                    </Border>

                    <!-- FILA DE BÚSQUEDA / ORDEN -->
                    <Grid Grid.Row="3">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- BUSCAR -->
                        <TextBox Grid.Column="0"
                                 Height="28"
                                 Margin="0,0,8,0"
                                 Padding="6,2"
                                 BorderBrush="{StaticResource LightGrayBrush}"
                                 Background="{StaticResource WhiteBrush}"
                                 Foreground="{StaticResource BlackBrush}"
                                 VerticalContentAlignment="Center"
                                 Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                                 ToolTip="Search wells..."/>

                        <!-- ORDENAR -->
                        <ComboBox Grid.Column="1"
                                  Height="28"
                                  Margin="0,0,8,0"
                                  Padding="4,2"
                                  BorderBrush="{StaticResource LightGrayBrush}"
                                  Background="{StaticResource WhiteBrush}"
                                  ItemsSource="{Binding SortOptions}"
                                  SelectedItem="{Binding SelectedSortOption}"/>

                        <!-- BOTÓN CLEAR FILTERS -->
                        <Button Grid.Column="2"
                                Height="28"
                                Margin="0,0,8,0"
                                Padding="10,2"
                                Content="Clear Filters"
                                Command="{Binding ClearFiltersCommand}"
                                Background="{StaticResource WhiteBrush}"
                                Foreground="{StaticResource DarkGrayBrush}"
                                BorderBrush="{StaticResource LightGrayBrush}"/>

                        <!-- TOGGLE VIEW -->
                        <Button Grid.Column="3"
                                Height="28"
                                Padding="10,2"
                                Content="Toggle View"
                                Command="{Binding ToggleViewCommand}"
                                Background="{StaticResource WhiteBrush}"
                                Foreground="{StaticResource DarkGrayBrush}"
                                BorderBrush="{StaticResource LightGrayBrush}"/>
                    </Grid>
                </Grid>
            </Border>

            <!-- LISTA DE WELLS -->
            <Border Grid.Row="1"
                    Background="{StaticResource WhiteBrush}"
                    BorderBrush="{StaticResource LightGrayBrush}"
                    BorderThickness="1"
                    CornerRadius="6"
                    Padding="8">
                <DataGrid ItemsSource="{Binding WellsView}"
                          AutoGenerateColumns="False"
                          HeadersVisibility="Column"
                          CanUserAddRows="False"
                          CanUserDeleteRows="False"
                          IsReadOnly="True"
                          BorderThickness="0">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Well"
                                            Binding="{Binding WellName}"
                                            Width="*"/>
                        <DataGridTextColumn Header="Operator"
                                            Binding="{Binding Operator}"
                                            Width="*"/>
                        <DataGridTextColumn Header="Field"
                                            Binding="{Binding Field}"
                                            Width="*"/>
                        <DataGridTextColumn Header="Block"
                                            Binding="{Binding Block}"
                                            Width="*"/>
                        <DataGridTextColumn Header="Status"
                                            Binding="{Binding Status}"
                                            Width="100"/>
                        <DataGridTextColumn Header="Last Modified"
                                            Width="150"
                                            Binding="{Binding LastModified, StringFormat=yyyy-MM-dd}"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Border>
        </Grid>
    </Grid>
</UserControl>
